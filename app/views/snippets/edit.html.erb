<%= form_for [@story, @snippet], url: story_snippet_path(@story, @snippet) do |f| %>

  <div id="snippet-preview-container">
    <% if @prev_snippet %>
      <p><%= @prev_snippet.content %></p>
    <% end %>

    <% if @snippet.errors.any? %>
      <ul>
        <% @snippet.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul> 
    <% end %>

    <%= f.text_area :content, autofocus: true, maxlength: "#{@story.snippet_length}", id: "new-snippet-content" %>

    <% if @next_snippet %>
      <p><%= @next_snippet.content %></p>
    <% end %>
  </div>

  <hr>

  <div class="generic-centered">
    <div id="snippet-checkboxes">
      <%= f.check_box :paragraph_begin, checked: @snippet.paragraph_begin %>
      <%= f.label :paragraph_begin, "Begin" %>
      <%= f.check_box :paragraph_end, checked: @snippet.paragraph_end %> 
      <%= f.label :paragraph_end, "End" %>
    </div>
  </div>

  <div class="generic-centered">
    <%= f.submit "Update Snippet" %>
  </div>

<% end %>

<div class="generic-centered">
  <div class="inline-buttons-container">
    <%= button_to "Delete Snippet", "/stories/#{@story.id}/snippets/#{@snippet.id}", method: :delete, class: "inline-buttons" %>
  </div>
</div>
